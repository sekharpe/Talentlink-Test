{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import { useParams } from \"react-router-dom\";\n// import { getProjectProposals } from \"../services/proposalService\";\n\n// const ClientProjectProposals = () => {\n//   const { projectId } = useParams(); // get project id from URL\n//   const [proposals, setProposals] = useState([]);\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     getProjectProposals(projectId)\n//       .then((res) => {\n//         setProposals(res.data);\n//         setLoading(false);\n//       })\n//       .catch((err) => {\n//         console.error(err);\n//         setLoading(false);\n//       });\n//   }, [projectId]);\n\n//   if (loading) return <p>Loading proposals...</p>;\n\n//   return (\n//     <div className=\"container\">\n//       <h2>Proposals</h2>\n\n//       {proposals.length === 0 ? (\n//         <p>No proposals submitted yet.</p>\n//       ) : (\n//         proposals.map((proposal) => (\n//           <div key={proposal.id} className=\"card\">\n//             <p><strong>Freelancer:</strong> {proposal.freelancer_name}</p>\n//             <p><strong>Cover Letter:</strong> {proposal.cover_letter}</p>\n//             <p><strong>Bid Amount:</strong> ₹{proposal.bid_amount}</p>\n//             <p><strong>Estimated Days:</strong> {proposal.estimated_days}</p>\n//             <p><strong>Status:</strong> {proposal.status}</p>\n//             <hr />\n//           </div>\n//         ))\n//       )}\n//     </div>\n//   );\n// };\n\n// export default ClientProjectProposals;\n\n// import { useEffect, useState } from \"react\";\n// import { useParams } from \"react-router-dom\";\n// import {\n//   getProjectProposals,\n//   updateProposalStatus,\n// } from \"../services/proposalService\";\n\n// function ClientProjectProposals() {\n//   const { projectId } = useParams();\n//   const [proposals, setProposals] = useState([]);\n\n//   useEffect(() => {\n//     getProjectProposals(projectId)\n//       .then((res) => {\n//         console.log(\"CLIENT PROPOSALS:\", res.data);\n//         setProposals(res.data);\n//       })\n//       .catch((err) => {\n//         console.error(\"Error loading proposals\", err);\n//       });\n//   }, [projectId]);\n\n//   // ✅ NEW: Accept / Reject handler\n//   const handleStatusChange = (proposalId, status) => {\n//     updateProposalStatus(proposalId, status)\n//       .then(() => getProjectProposals(projectId))\n//       .then((res) => setProposals(res.data))\n//       .catch((err) => {\n//         console.error(\"Status update error\", err);\n//         alert(\"Failed to update proposal status\");\n//       });\n//   };\n\n//   return (\n//     <div style={{ padding: \"20px\" }}>\n//       <h2>Project Proposals</h2>\n\n//       {proposals.length === 0 && <p>No proposals found</p>}\n\n//       {proposals.map((p) => (\n//         <div\n//           key={p.id}\n//           style={{ border: \"1px solid #ccc\", margin: \"10px\", padding: \"10px\" }}\n//         >\n//           <p><strong>Freelancer:</strong> {p.freelancer_name}</p>\n//           <p><strong>Bid:</strong> ₹{p.bid_amount}</p>\n//           <p><strong>Status:</strong> {p.status}</p>\n\n//           {/* ✅ NEW: Buttons only for pending */}\n//           {p.status === \"pending\" && (\n//             <div>\n//               <button\n//                 onClick={() => handleStatusChange(p.id, \"accepted\")}\n//                 style={{ marginRight: \"10px\" }}\n//               >\n//                 Accept\n//               </button>\n\n//               <button\n//                 onClick={() => handleStatusChange(p.id, \"rejected\")}\n//               >\n//                 Reject\n//               </button>\n//             </div>\n//           )}\n//         </div>\n//       ))}\n//     </div>\n//   );\n// }\n\n// export default ClientProjectProposals;\n\n// last one\n\n// import { useEffect, useState } from \"react\";\n// import { useParams } from \"react-router-dom\";\n// import {\n//   getProjectProposals,\n//   updateProposalStatus,\n// } from \"../services/proposalService\";\n// import \"../styles/proposals.css\"; // ✅ ADD THIS\n\n// function ClientProjectProposals() {\n//   const { projectId } = useParams();\n//   const [proposals, setProposals] = useState([]);\n\n//   useEffect(() => {\n//     getProjectProposals(projectId)\n//       .then((res) => {\n//         console.log(\"CLIENT PROPOSALS:\", res.data);\n//         setProposals(res.data);\n//       })\n//       .catch((err) => {\n//         console.error(\"Error loading proposals\", err);\n//       });\n//   }, [projectId]);\n\n//   const handleStatusChange = (proposalId, status) => {\n//     updateProposalStatus(proposalId, status)\n//       .then(() => getProjectProposals(projectId))\n//       .then((res) => setProposals(res.data))\n//       .catch(() => alert(\"Failed to update proposal status\"));\n//   };\n\n//   return (\n//     <div className=\"proposals-page\">\n//       <h2 className=\"page-title\">Project Proposals</h2>\n\n//       {proposals.length === 0 && <p>No proposals found</p>}\n\n//       {proposals.map((p) => (\n//         <div key={p.id} className=\"proposal-card\">\n//           <p><strong>Freelancer:</strong> {p.freelancer_name}</p>\n//           <p><strong>Bid:</strong> ₹{p.bid_amount}</p>\n\n//           <span className={`status-badge ${p.status}`}>\n//             {p.status}\n//           </span>\n\n//           {p.status === \"pending\" && (\n//             <div className=\"action-buttons\">\n//               <button\n//                 className=\"btn accept\"\n//                 onClick={() => handleStatusChange(p.id, \"accepted\")}\n//               >\n//                 Accept\n//               </button>\n\n//               <button\n//                 className=\"btn reject\"\n//                 onClick={() => handleStatusChange(p.id, \"rejected\")}\n//               >\n//                 Reject\n//               </button>\n//             </div>\n//           )}\n//         </div>\n//       ))}\n//     </div>\n//   );\n// }\n\n// export default ClientProjectProposals;","map":{"version":3,"names":[],"sources":["C:/Users/SAKTHI PRIYA/Downloads/Talentlink/frontend/src/pages/ClientProjectProposals.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import { useParams } from \"react-router-dom\";\r\n// import { getProjectProposals } from \"../services/proposalService\";\r\n\r\n// const ClientProjectProposals = () => {\r\n//   const { projectId } = useParams(); // get project id from URL\r\n//   const [proposals, setProposals] = useState([]);\r\n//   const [loading, setLoading] = useState(true);\r\n\r\n//   useEffect(() => {\r\n//     getProjectProposals(projectId)\r\n//       .then((res) => {\r\n//         setProposals(res.data);\r\n//         setLoading(false);\r\n//       })\r\n//       .catch((err) => {\r\n//         console.error(err);\r\n//         setLoading(false);\r\n//       });\r\n//   }, [projectId]);\r\n\r\n//   if (loading) return <p>Loading proposals...</p>;\r\n\r\n//   return (\r\n//     <div className=\"container\">\r\n//       <h2>Proposals</h2>\r\n\r\n//       {proposals.length === 0 ? (\r\n//         <p>No proposals submitted yet.</p>\r\n//       ) : (\r\n//         proposals.map((proposal) => (\r\n//           <div key={proposal.id} className=\"card\">\r\n//             <p><strong>Freelancer:</strong> {proposal.freelancer_name}</p>\r\n//             <p><strong>Cover Letter:</strong> {proposal.cover_letter}</p>\r\n//             <p><strong>Bid Amount:</strong> ₹{proposal.bid_amount}</p>\r\n//             <p><strong>Estimated Days:</strong> {proposal.estimated_days}</p>\r\n//             <p><strong>Status:</strong> {proposal.status}</p>\r\n//             <hr />\r\n//           </div>\r\n//         ))\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default ClientProjectProposals;\r\n\r\n// import { useEffect, useState } from \"react\";\r\n// import { useParams } from \"react-router-dom\";\r\n// import {\r\n//   getProjectProposals,\r\n//   updateProposalStatus,\r\n// } from \"../services/proposalService\";\r\n\r\n\r\n// function ClientProjectProposals() {\r\n//   const { projectId } = useParams();\r\n//   const [proposals, setProposals] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     getProjectProposals(projectId)\r\n//       .then((res) => {\r\n//         console.log(\"CLIENT PROPOSALS:\", res.data);\r\n//         setProposals(res.data);\r\n//       })\r\n//       .catch((err) => {\r\n//         console.error(\"Error loading proposals\", err);\r\n//       });\r\n//   }, [projectId]);\r\n\r\n//   // ✅ NEW: Accept / Reject handler\r\n//   const handleStatusChange = (proposalId, status) => {\r\n//     updateProposalStatus(proposalId, status)\r\n//       .then(() => getProjectProposals(projectId))\r\n//       .then((res) => setProposals(res.data))\r\n//       .catch((err) => {\r\n//         console.error(\"Status update error\", err);\r\n//         alert(\"Failed to update proposal status\");\r\n//       });\r\n//   };\r\n\r\n//   return (\r\n//     <div style={{ padding: \"20px\" }}>\r\n//       <h2>Project Proposals</h2>\r\n\r\n//       {proposals.length === 0 && <p>No proposals found</p>}\r\n\r\n//       {proposals.map((p) => (\r\n//         <div\r\n//           key={p.id}\r\n//           style={{ border: \"1px solid #ccc\", margin: \"10px\", padding: \"10px\" }}\r\n//         >\r\n//           <p><strong>Freelancer:</strong> {p.freelancer_name}</p>\r\n//           <p><strong>Bid:</strong> ₹{p.bid_amount}</p>\r\n//           <p><strong>Status:</strong> {p.status}</p>\r\n\r\n//           {/* ✅ NEW: Buttons only for pending */}\r\n//           {p.status === \"pending\" && (\r\n//             <div>\r\n//               <button\r\n//                 onClick={() => handleStatusChange(p.id, \"accepted\")}\r\n//                 style={{ marginRight: \"10px\" }}\r\n//               >\r\n//                 Accept\r\n//               </button>\r\n\r\n//               <button\r\n//                 onClick={() => handleStatusChange(p.id, \"rejected\")}\r\n//               >\r\n//                 Reject\r\n//               </button>\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//       ))}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default ClientProjectProposals;\r\n\r\n// last one\r\n\r\n// import { useEffect, useState } from \"react\";\r\n// import { useParams } from \"react-router-dom\";\r\n// import {\r\n//   getProjectProposals,\r\n//   updateProposalStatus,\r\n// } from \"../services/proposalService\";\r\n// import \"../styles/proposals.css\"; // ✅ ADD THIS\r\n\r\n// function ClientProjectProposals() {\r\n//   const { projectId } = useParams();\r\n//   const [proposals, setProposals] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     getProjectProposals(projectId)\r\n//       .then((res) => {\r\n//         console.log(\"CLIENT PROPOSALS:\", res.data);\r\n//         setProposals(res.data);\r\n//       })\r\n//       .catch((err) => {\r\n//         console.error(\"Error loading proposals\", err);\r\n//       });\r\n//   }, [projectId]);\r\n\r\n//   const handleStatusChange = (proposalId, status) => {\r\n//     updateProposalStatus(proposalId, status)\r\n//       .then(() => getProjectProposals(projectId))\r\n//       .then((res) => setProposals(res.data))\r\n//       .catch(() => alert(\"Failed to update proposal status\"));\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"proposals-page\">\r\n//       <h2 className=\"page-title\">Project Proposals</h2>\r\n\r\n//       {proposals.length === 0 && <p>No proposals found</p>}\r\n\r\n//       {proposals.map((p) => (\r\n//         <div key={p.id} className=\"proposal-card\">\r\n//           <p><strong>Freelancer:</strong> {p.freelancer_name}</p>\r\n//           <p><strong>Bid:</strong> ₹{p.bid_amount}</p>\r\n\r\n//           <span className={`status-badge ${p.status}`}>\r\n//             {p.status}\r\n//           </span>\r\n\r\n//           {p.status === \"pending\" && (\r\n//             <div className=\"action-buttons\">\r\n//               <button\r\n//                 className=\"btn accept\"\r\n//                 onClick={() => handleStatusChange(p.id, \"accepted\")}\r\n//               >\r\n//                 Accept\r\n//               </button>\r\n\r\n//               <button\r\n//                 className=\"btn reject\"\r\n//                 onClick={() => handleStatusChange(p.id, \"rejected\")}\r\n//               >\r\n//                 Reject\r\n//               </button>\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//       ))}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default ClientProjectProposals;\r\n\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}