# ğŸ—ï¸ Application Architecture

## Local Development Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    YOUR COMPUTER                        â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Browser    â”‚              â”‚  PostgreSQL  â”‚       â”‚
â”‚  â”‚              â”‚              â”‚  localhost   â”‚       â”‚
â”‚  â”‚ localhost:   â”‚              â”‚   :5432      â”‚       â”‚
â”‚  â”‚   3000       â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                      â–²              â”‚
â”‚         â”‚                              â”‚              â”‚
â”‚         â”‚ HTTP                         â”‚ SQL          â”‚
â”‚         â”‚                              â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   React      â”‚              â”‚   Django    â”‚       â”‚
â”‚  â”‚   Dev        â”‚   API calls  â”‚   Dev       â”‚       â”‚
â”‚  â”‚   Server     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Server    â”‚       â”‚
â”‚  â”‚              â”‚              â”‚             â”‚       â”‚
â”‚  â”‚ npm start    â”‚              â”‚ manage.py   â”‚       â”‚
â”‚  â”‚              â”‚              â”‚ runserver   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ports:**
- Frontend: `http://localhost:3000`
- Backend: `http://localhost:8000`
- Database: `localhost:5432`

---

## Production Architecture on Render

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        INTERNET                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTPS
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               your-app.onrender.com                         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Render Web Service                      â”‚  â”‚
â”‚  â”‚                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚         Gunicorn (WSGI Server)             â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚      Django Application          â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                                  â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  Routes:                         â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ /api/*  â†’ REST API            â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ /*      â†’ React index.html    â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                                  â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚   WhiteNoise         â”‚       â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚   (Static Files)     â”‚       â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚   â€¢ CSS, JS, Images  â”‚       â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                                  â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚   React Build        â”‚       â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚   frontend/build/    â”‚       â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚   â€¢ index.html       â”‚       â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚   â€¢ static/...       â”‚       â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ Internal Network
                           â”‚ (DATABASE_URL)
                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Render PostgreSQL Database                    â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚         PostgreSQL Instance                 â”‚         â”‚
â”‚  â”‚                                             â”‚         â”‚
â”‚  â”‚  Database: talentlink                       â”‚         â”‚
â”‚  â”‚  Tables: users, projects, proposals, etc.   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Single Domain:**
- Everything: `https://your-app.onrender.com`
- API: `https://your-app.onrender.com/api/...`
- Frontend: `https://your-app.onrender.com/`

---

## Request Flow Examples

### API Request (e.g., Get Projects)

```
Browser
  â”‚
  â”‚ GET /api/projects/
  â”‚
  â–¼
Django
  â”‚
  â”œâ”€ JWT Authentication
  â”‚
  â”œâ”€ Route to projects.views
  â”‚
  â”œâ”€ Query PostgreSQL
  â”‚
  â”œâ”€ Serialize data
  â”‚
  â–¼
Return JSON Response
```

### Frontend Request (e.g., Visit Homepage)

```
Browser
  â”‚
  â”‚ GET /
  â”‚
  â–¼
Django
  â”‚
  â”œâ”€ URL doesn't match /api/*
  â”‚
  â”œâ”€ Catch-all route matches
  â”‚
  â”œâ”€ Serve frontend/build/index.html
  â”‚
  â–¼
React App Loads
  â”‚
  â”œâ”€ React Router handles /
  â”‚
  â”œâ”€ Makes API calls to /api/*
  â”‚
  â–¼
Page Renders
```

---

## Build Process Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Render Build Process                  â”‚
â”‚         (Runs build.sh automatically)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Install Python Deps  â”‚
         â”‚  pip install -r       â”‚
         â”‚  requirements.txt     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Build React Frontend â”‚
         â”‚  cd frontend          â”‚
         â”‚  npm install          â”‚
         â”‚  npm run build        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Collect Static Files â”‚
         â”‚  python manage.py     â”‚
         â”‚  collectstatic        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Run Migrations       â”‚
         â”‚  python manage.py     â”‚
         â”‚  migrate              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Start Gunicorn       â”‚
         â”‚  gunicorn             â”‚
         â”‚  talentlink.wsgi      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Structure After Build

```
Talent-New/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/                    # Source code (not used in prod)
â”‚   â””â”€â”€ build/                  # Built React app (created by build.sh)
â”‚       â”œâ”€â”€ index.html         # Entry point
â”‚       â”œâ”€â”€ static/
â”‚       â”‚   â”œâ”€â”€ css/
â”‚       â”‚   â”œâ”€â”€ js/
â”‚       â”‚   â””â”€â”€ media/
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ staticfiles/               # Collected static files (created by build.sh)
â”‚   â”œâ”€â”€ admin/                # Django admin static files
â”‚   â”œâ”€â”€ rest_framework/       # DRF static files
â”‚   â””â”€â”€ static/               # React app static files (CSS, JS)
â”‚
â”œâ”€â”€ talentlink/
â”‚   â”œâ”€â”€ settings.py           # Reads environment variables
â”‚   â”œâ”€â”€ urls.py               # Routes /api/* and catch-all
â”‚   â””â”€â”€ wsgi.py               # WSGI entry point for Gunicorn
â”‚
â”œâ”€â”€ manage.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ build.sh                  # Build script
â””â”€â”€ runtime.txt              # Python version
```

---

## Environment Variables Flow

```
Render Dashboard
  â”‚
  â”‚ Set Environment Variables:
  â”‚ - SECRET_KEY
  â”‚ - DEBUG=False
  â”‚ - ALLOWED_HOSTS
  â”‚ - DATABASE_URL
  â”‚ - CORS_ALLOWED_ORIGINS
  â”‚
  â–¼
Container Environment
  â”‚
  â–¼
python-decouple reads env vars
  â”‚
  â–¼
Django settings.py
  â”‚
  â”œâ”€ SECRET_KEY = config('SECRET_KEY')
  â”œâ”€ DEBUG = config('DEBUG')
  â”œâ”€ DATABASES = dj_database_url.parse(DATABASE_URL)
  â””â”€ etc.
  â”‚
  â–¼
Application configured correctly!
```

---

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚
â”‚  Browser â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 1. Visit site
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Django    â”‚ 2. Serve index.html
â”‚   Server    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React     â”‚ 3. App loads
â”‚   App       â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 4. API call (/api/token/)
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Django    â”‚ 5. JWT Authentication
â”‚   API       â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 6. Query DB
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL  â”‚ 7. Return data
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React     â”‚ 8. Display data
â”‚   App       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Advantages of This Setup

âœ… **Single Deployment**
- One service to manage
- One URL for everything
- Simpler configuration

âœ… **Cost Effective**
- Free tier possible
- No separate static hosting needed

âœ… **Simple CORS**
- Same origin = no CORS issues in production

âœ… **Easy Updates**
- Push to Git â†’ Auto deploy

âœ… **Production Ready**
- Gunicorn for performance
- WhiteNoise for static files
- PostgreSQL for data persistence

---

See `RENDER_DEPLOYMENT.md` for deployment instructions!
